/*!
* comment
* v 3.0.0
* svn ../ui/project/comment3/
* 2015-08-12 11:48
* [${p_id},${t_id},${d_id}] published at ${publishdate} ${publishtime}
*/
!function(exports,undefined){var C={U:"undefined"},doc=document,byId=function(a){return"string"==typeof a?doc.getElementById(a):a},byTag=function(a){return"string"==typeof a?doc.getElementsByTagName(a):a},byAttr=function(a,b,c){"string"==typeof a&&(a=byId(a));var d=[];c=c||"";for(var e=function(a){return a.getAttribute(b)},f=0,g=a.childNodes.length;g>f;f++)if(1==a.childNodes[f].nodeType){var h=!1;h=c?e(a.childNodes[f])==c:!!e(a.childNodes[f]),h&&d.push(a.childNodes[f]),a.childNodes[f].childNodes.length>0&&(d=d.concat(arguments.callee.call(null,a.childNodes[f],b,c)))}return d},hasClass=function(a,b){return a?a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)")):!1},addClass=function(a,b){hasClass(a,b)||(a.className=a.className.replace(/(^\s*)|(\s*$)/g,"")+" "+b)},removeClass=function(a,b){if(hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}},toggleClass=function(a,b){hasClass(a,b)?removeClass(a,b):addClass(a,b)},preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation=function(a){return a&&a.stopPropagation?a.stopPropagation():window.event.cancelBubble=!0,!1},contains=function(a,b){try{return a.contains?a!=b&&a.contains(b):!!(16&a.compareDocumentPosition(b))}catch(c){}},create=function(a){return a=a.toUpperCase(),"TEXT"==a?doc.createTextNode(""):"BUFFER"==a?doc.createDocumentFragment():doc.createElement(a)},insertAfter=function(a,b){var c=b.parentNode;c.lastChild==b?c.appendChild(a):c.insertBefore(a,b.nextSibling)},ua=function(){var a=navigator.userAgent.toLowerCase(),b={};return b.isIE=/msie/.test(a),b.isOPERA=/opera/.test(a),b.isMOZ=/gecko/.test(a),b.isIE6=/msie 6/.test(a),b.isIE7=/msie 7/.test(a),b.isSAFARI=/safari/.test(a),b.iswinXP=/windows nt 5.1/.test(a),b.iswinVista=/windows nt 6.0/.test(a),b.isFF=/firefox/.test(a),b.isIOS=/\((iPhone|iPad|iPod)/i.test(a),b}(),domReady=function(){var a=[],b=0,c=0,d=function(){return"complete"===doc.readyState?1:c},e=function(b){if(!c){if(c=1,a)for(;a.length;)a.shift()();a=null}},f=function(){b||(b=1,"complete"===doc.readyState?e():doc.addEventListener?(doc.addEventListener("DOMContentLoaded",function(){doc.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1),window.addEventListener("load",function(){window.removeEventListener("load",arguments.callee,!1),e()},!1)):(doc.attachEvent("onreadystatechange",function(){"complete"==doc.readyState&&(doc.detachEvent("onreadystatechange",arguments.callee),e())}),function(){if(!c){var a=new Image;try{a.doScroll(),a=null}catch(b){return void setTimeout(arguments.callee,64)}e()}}()))};return function(b){return f(),d()?void b.call():void a.push(b)}}(),timeoutHandle=function(){var a=[],b={success:function(b){var c=a[b];c&&(c.isSuccess=!0,clearTimeout(c.timer))},timeout:function(b,c){var d=a[b];d&&(d.timer=setTimeout(function(){d.isSuccess||"function"==typeof c&&c.call(this)},d.time))}};return function(c,d,e){if(a[c])throw new Error(c+"\u5DF2\u7ECF\u88AB\u5360\u7528");a[c]={},a[c].time=e||5e3,a[c].isSuccess=!1,"function"==typeof d&&d.call(this,b)}}(),cssSupports=function(){var a=document.createElement("div"),b="Khtml O Moz Webkit".split(" "),c=b.length;return function(d){if(d in a.style)return!0;if("-ms-"+d in a.style)return!0;for(d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()});c--;)if(b[c]+d in a.style)return!0;return!1}}(),getXY=function(){var a=function(a){if((null==a.parentNode||null==a.offsetParent||"none"==getStyle(a,"display"))&&a!=doc.body)return[0,0];var b;b=a.getBoundingClientRect();var c=getScrollPos(a.ownerDocument);return[b.left+c[1],b.top+c[0]]};return ua.isIE||(a=function(a){if((null==a.parentNode||null==a.offsetParent||"none"==getStyle(a,"display"))&&a!=doc.body)return!1;var b=null,c=[],d=ua.isSAFARI;c=[a.offsetLeft,a.offsetTop],b=a.offsetParent;var e="absolute"==getStyle(a,"position");if(b!=a)for(;b;)c[0]+=b.offsetLeft+parseInt($.getStyle(b,"borderLeftWidth"),10),c[1]+=b.offsetTop+parseInt($.getStyle(b,"borderTopWidth"),10),d&&!e&&"absolute"==getStyle(b,"position")&&(e=!0),b=b.offsetParent;for(d&&e&&(c[0]-=a.ownerDocument.body.offsetLeft,c[1]-=a.ownerDocument.body.offsetTop),b=a.parentNode;b.tagName&&!/^body|html$/i.test(b.tagName);)getStyle(b,"display").search(/^inline|table-row.*$/i)&&(c[0]-=b.scrollLeft,c[1]-=b.scrollTop),b=b.parentNode;return c}),a}(),getScrollPos=function(){var a=doc.documentElement,b=doc.body;return[Math.max(a.scrollTop,b.scrollTop),Math.max(a.scrollLeft,b.scrollLeft),Math.max(a.scrollWidth,b.scrollWidth),Math.max(a.scrollHeight,b.scrollHeight)]},getPosition=function(a){if(!a)return{left:0,top:0};var b=0,c=0;if("getBoundingClientRect"in document.documentElement){var d=a.getBoundingClientRect(),e=a.ownerDocument,f=e.body,g=e.documentElement,h=g.clientTop||f.clientTop||0,i=g.clientLeft||f.clientLeft||0;b=d.top+(exports.pageYOffset||g&&g.scrollTop||f.scrollTop)-h,c=d.left+(exports.pageXOffset||g&&g.scrollLeft||f.scrollLeft)-i}else do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return{left:c,top:b}},getStyle=function(a,b){if("getComputedStyle"in window)return getComputedStyle(a,null)[b];b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()});var c=a.currentStyle[b];if(!("auto"!==c&&"100%"!=c||"width"!==b&&"height"!==b)){var d=a.getBoundingClientRect();return"width"===b?d.right-d.left+"px":d.bottom-d.top+"px"}return c},getOuterStyle=function(a,b){var c=function(a,b){var c=getStyle(a,b),d={thin:["1","2"],medium:["3","4"],thick:["5","6"]};return/^(border).+(Width)$/.test(b)&&d[c]&&(c=window.XDomainRequest?d[c][0]:d[c][1]),parseInt(c.replace("px",""),10)};return"width"===b?c(a,b)+c(a,"paddingLeft")+c(a,"paddingRight")+c(a,"borderLeftWidth")+c(a,"borderRightWidth"):c(a,b)+c(a,"paddingTop")+c(a,"paddingBottom")+c(a,"borderTopWidth")+c(a,"borderBottomWidth")},setStyle=function(a,b){if(a)for(var c in b)a.style[c]=b[c]},trim=function(a){return a.replace(/(^[\s\u3000]*)|([\s\u3000]*$)/g,"")},encodeHTML=function(a){var b="";return"string"!=typeof a?a:0===a.length?"":(b=a.replace(/&/g,"&gt;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/ /g,"&nbsp;"),b=b.replace(/\'/g,"'"),b=b.replace(/\"/g,"&quot;"),b=b.replace(/\n/g,"<br>"))},decodeHTML=function(a){var b="";return"string"!=typeof a?a:0===a.length?"":(b=a.replace(/&gt;/g,"&"),b=b.replace(/&lt;/g,"<"),b=b.replace(/&gt;/g,">"),b=b.replace(/&nbsp;/g," "),b=b.replace(/'/g,"'"),b=b.replace(/&quot;/g,'"'),b=b.replace(/<br>/g,"\n"))},encodeDoubleByte=function(a){return"string"!=typeof a?a:encodeURIComponent(a)},byteLength=function(a){if(typeof a==C.U)return 0;var b=a.match(/[^\x00-\x80]/g);return a.length+(b?b.length:0)},strLeft=function(a,b){var c="...",d=a.slice(0,b),e=d.replace(/[^\x00-\xff]/g,"**").length,f=a.length,g=d.length;if(b>e)return d;if(e==b)return b==f||g==f?d:a.slice(0,b-2)+c;switch(e-=d.length){case 0:return d;case b:var h;return b==f?(h=a.slice(0,(b>>1)-1),h+c):h=a.slice(0,b>>1);default:var i=b-e,j=a.slice(i,b);return f=j.replace(/[\x00-\xff]/g,"").length,f?a.slice(0,i)+arguments.callee(j,f):a.slice(0,i)}},indexOf=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;){if(b[c]===a)return c;c++}return-1},inArray=function(a,b){return indexOf(a,b)>-1},isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},isEmptyObj=function(a,b){var c=!0;for(var d in a){if(b){c=!1;break}if(a.hasOwnProperty(d)){c=!1;break}}return c},extend=function(a,b){for(var c in b)a[c]=b[c];return a},jsonToQuery=function(){var a=function(a,b){return a=null==a?"":a,a=trim(a.toString()),b?encodeURIComponent(a):a};return function(b,c){var d=[];if("object"==typeof b)for(var e in b)if(b[e]instanceof Array)for(var f=0,g=b[e].length;g>f;f++)d.push(e+"="+a(b[e][f],c));else"function"!=typeof b[e]&&d.push(e+"="+a(b[e],c));return d.length?d.join("&"):""}}(),queryToJson=function(a,b){for(var c,d,e,f=trim(a).split("&"),g={},h=function(a){return b?decodeURIComponent(a):a},i=0,j=f.length;j>i;i++)f[i]&&(c=f[i].split("="),e=c[0],d=c[1],c.length<2&&(d=e,e="$nullName"),g[e]?(isArray(g[e])!==!0&&(g[e]=[g[e]]),g[e].push(h(d))):g[e]=h(d));return g},addEvent=function(a,b,c,d){var e=byId(a);if(null==e)throw new Error("addEvent \u627E\u4E0D\u5230\u5BF9\u8C61\uFF1A"+a);return typeof d==C.U&&(d=!1),typeof b==C.U&&(b="click"),e.addEventListener?(e.addEventListener(b,c,d),!0):e.attachEvent?(e.attachEvent("on"+b,c),!0):void(e["on"+b]=c)},removeEvent=function(a,b,c){var d=byId(a);if(null==d)throw"removeEvent \u627E\u4E0D\u5230\u5BF9\u8C61\uFF1A"+a;"function"==typeof c&&(typeof b==C.U&&(b="click"),d.addEventListener?d.removeEventListener(b,c,!1):d.attachEvent&&d.detachEvent("on"+b,c),c[b]=null)},fixEvent=function(a){return typeof a==C.U&&(a=window.event),a.target||(a.target=a.srcElement,a.pageX=a.x,a.pageY=a.y),typeof a.layerX==C.U&&(a.layerX=a.offsetX),typeof a.layerY==C.U&&(a.layerY=a.offsetY),a},byClass=function(){var a;return a="function"==typeof document.getElementsByClassName?function(a,b){return b?b.getElementsByClassName(a):document.getElementsByClassName(a)}:function(a,b){for(var c=-1,d=[],e=new RegExp("(?:^|\\s)"+a+"(?:\\s|$)"),f=b&&b.getElementsByTagName&&b.getElementsByTagName("*")||document.all||document.getElementsByTagName("*"),g=f.length;++c<g;e.test(f[c].className)&&d.push(f[c]));return f=null,d}}(),builder=function(a,b){var c,d,e;a=function(){return"string"==typeof a?byId(a):a}(),d=byAttr(a,b),c={},e={};for(var f=0,g=d.length;g>f;f++){var h=d[f].getAttribute(b);h&&(c[h]||(c[h]=[]),c[h].push(d[f]),e[h]||(e[h]=d[f]))}return e.wrap=a,{box:a,list:c,ids:e}},custEvent=function(){var a="__custEventKey__",b=1,c={},d=function(b,d){var e="number"==typeof b?b:b[a];return e&&c[e]&&{obj:"string"==typeof d?c[e][d]:c[e],key:e}};return{define:function(d,e){if(d&&e){var f="number"==typeof d?d:d[a]||(d[a]=b++),g=c[f]||(c[f]={});e=[].concat(e);for(var h=0;h<e.length;h++)g[e[h]]||(g[e[h]]=[]);return f}},undefine:function(b,d){if(b){var e="number"==typeof b?b:b[a];e&&c[e]&&("string"==typeof d?d in c[e]&&delete c[e][d]:delete c[e])}},add:function(a,b,c,e){if(a&&"string"==typeof b&&c){var f=d(a,b);if(!f||!f.obj)throw"custEvent ("+b+") is undefined !";return f.obj.push({fn:c,data:e}),f.key}},remove:function(a,b,c){if(a){var e,f,g=d(a,b);if(g&&(e=g.obj)){if(isArray(e))if(c)for(f=0;f<e.length&&e[f].fn!==c;f++)e.splice(f,1);else e.splice(0);else for(f in e)e[f]=[];return g.key}}},fire:function(a,b,c){if(a&&"string"==typeof b){var e,f=d(a,b);if(f&&(e=f.obj)){isArray(c)||(c=c!==undefined?[c]:[]);for(var g=0;g<e.length;g++){var h=e[g].fn;h&&h.apply&&h.apply($,[{type:b,data:e[g].data}].concat(c))}return f.key}}},destroy:function(){c={},b=1}}}(),delegatedEvent=function(){var a=function(a,b){for(var c=0,d=a.length;d>c;c+=1)if(contains(a[c],b))return!0;return!1},b=function(a){var b=function(){};for(var c in a)return b(c),!1;return!0};return function(c,d,e){d||(d=[]),isArray(d)&&(d=[d]);var f={};e=e||"action-type";var g=function(b){var g=b||window.event,h=g.target||g.srcElement,i=b.type;if(a(d,h))return!1;if(!contains(c,h))return!1;for(var j=null,k=function(){return f[i]&&f[i][j]?f[i][j]({evt:g,el:h,e:b,data:queryToJson(h.getAttribute("action-data")||"")}):!0};h&&h!==c&&h.getAttribute&&(j=h.getAttribute(e),k()!==!1);)h=h.parentNode},h={};return h.add=function(a,b,d){f[b]||(f[b]={},addEvent(c,b,g));var e=f[b];e[a]=d},h.remove=function(a,d){f[d]&&(delete f[d][a],b(f[d])&&(delete f[d],removeEvent(c,d,g)))},h.pushExcept=function(a){d.push(a)},h.removeExcept=function(a){if(a)for(var b=0,c=d.length;c>b;b+=1)d[b]===a&&d.splice(b,1);else d=[]},h.clearExcept=function(a){d=[]},h.destroy=function(){for(var a in f){for(var b in f[a])delete f[a][b];delete f[a],removeEvent(c,g,a)}},h}}(),bind2=function(){return Function.prototype.bind2=function(a){var b=this;return function(){return b.apply(a,arguments)}},function(a,b){var c=a;return function(){return c.apply(b,arguments)}}}(),parseParam=function(a,b){var c;try{if(typeof b!=C.U)for(c in a)null!=b[c]&&(a[c]=b[c])}finally{return c=null,a}},Url=function(){return Url=function(a){a=a||"",this.url=a,this.query={},this.parse()},Url.prototype={parse:function(a){a&&(this.url=a),this.parseAnchor(),this.parseParam()},parseAnchor:function(){var a=this.url.match(/\#(.*)/);a=a?a[1]:null,this._anchor=a,null!=a&&(this.anchor=this.getNameValuePair(a),this.url=this.url.replace(/\#.*/,""))},parseParam:function(){var a=this.url.match(/\?([^\?]*)/);a=a?a[1]:null,null!=a&&(this.url=this.url.replace(/\?([^\?]*)/,""),this.query=this.getNameValuePair(a))},getNameValuePair:function(a){var b={};return a.replace(/([^&=]*)(?:\=([^&]*))?/gim,function(a,c,d){""!==c&&(b[c]=d||"")}),b},getParam:function(a){return this.query[a]||""},clearParam:function(){this.query={}},setParam:function(a,b){if(null==a||""===a||"string"!=typeof a)throw new Error("no param name set");this.query=this.query||{},this.query[a]=b},setParams:function(a){this.query=a},serialize:function(a){var b=[];for(var c in a)null==a[c]||""===a[c]?b.push(c+"="):b.push(c+"="+a[c]);return b.join("&")},toString:function(){var a=this.serialize(this.query);return this.url+(a.length>0?"?"+a:"")+(this.anchor?"#"+this.serialize(this.anchor):"")},getHashStr:function(a){return this.anchor?"#"+this.serialize(this.anchor):a?"#":""}},Url}(),placeholder=function(){var a="placeholder"in create("input");return function(b){function c(b){if(!a){var c=b.getAttribute("hasPlaceholder")||0;if("1"!==c){var d=function(){""===b.value&&(addClass(b,"gray"),b.value=f),b.onfocus=function(){(""===b.value||b.value===f)&&(this.value="",removeClass(b,"gray"))},b.onblur=function(){""===b.value&&(this.value=f,addClass(b,"gray"))}},e=function(){var a=create("input");a.type="text",a.className="pwd_placeholder gray "+b.className,a.value=f,a.autocomplete="off",b.style.display="none",b.parentNode.appendChild(a),a.onfocus=function(){a.style.display="none",b.style.display="",b.focus()},b.onblur=function(){""===b.value&&(a.style.display="",b.style.display="none")}},f=b.getAttribute("placeholder");f||b.attributes&&b.attributes.placeholder&&(f=b.attributes.placeholder.value);var g=b.tagName;if("INPUT"==g){var h=b.type;"password"==h&&f?e():"text"==h&&f&&d()}else"TEXTAREA"==g&&d();b.setAttribute("hasPlaceholder","1")}}}for(var d=b.length-1;d>=0;d--){var e=b[d];c(e)}}}(),Timer=function(){this.list={},this.refNum=0,this.clock=null,this.allpause=!1,this.delay=25,this.add=function(a){if("function"!=typeof a)throw"The timer needs add a function as a parameters";var b=""+(new Date).getTime()+Math.random()*Math.pow(10,17);return this.list[b]={fun:a,pause:!1},this.refNum<=0&&this.start(),this.refNum++,b},this.remove=function(a){this.list[a]&&(delete this.list[a],this.refNum--),this.refNum<=0&&this.stop()},this.pause=function(a){this.list[a]&&(this.list[a].pause=!0)},this.play=function(a){this.list[a]&&(this.list[a].pause=!1)},this.stop=function(){clearInterval(this.clock),this.clock=null},this.start=function(){var a=this;this.clock=setInterval(function(){a.loop.apply(a)},this.delay)},this.loop=function(){for(var a in this.list)this.list[a].pause||this.list[a].fun()}},throttle=function(a,b){clearTimeout(a.__tId__),a.__tId__=setTimeout(function(){a.call(b)},100)},reachBottom=function(){var a=doc.documentElement,b=doc.body,c=Math.min,d=Math.max,e=function(){var e=0,f=0,g=0;try{return a&&a.scrollTop?e=a.scrollTop:b&&(e=b.scrollTop),f=b.clientHeight&&a.clientHeight?c(b.clientHeight,a.clientHeight):d(b.clientHeight,a.clientHeight),g=d(b.scrollHeight,a.scrollHeight),e+f>g-150}catch(h){return!1}};return e}(),shine=function(){var a=new Timer,b=function(a){return a.slice(0,a.length-1).concat(a.concat([]).reverse())};return function(c,d){var e,f=parseParam({start:"#fff",color:"#fbb",times:2,step:5,length:4},d),g=f.start.split(""),h=f.color.split(""),i=[];for(e=0;e<f.step;e+=1){for(var j=g[0],k=1;k<f.length;k+=1){var l=parseInt(g[k],16),m=parseInt(h[k],16);j+=Math.floor(parseInt(l+(m-l)*e/f.step,10)).toString(16)}i.push(j)}for(e=0;e<f.times;e+=1)i=b(i);var n=!1,o=a.add(function(){if(i.length){if(n)return void(n=!1);n=!0,c.style.backgroundColor=i.pop()}else a.remove(o)})}}(),Clz=function(a){var b="___ytreporp___",c=function(){this.init.apply(this,arguments)};if(a){var d=function(){};d.prototype=a.prototype,c.prototype=new d}return c.prototype.init=function(){},c.prototype.set=function(a,c){this[b]||(this[b]={});for(var d,e=0,f=this[b],g=a.split("."),h=g.length,i=h-1;h>e;)d=g[e],e==i&&(f[d]=c),f[d]===undefined&&(f[d]={}),f=f[d],e++},c.prototype.get=function(a){this[b]||(this[b]={});for(var c,d=0,e=this[b],f=a.split("."),g=f.length,h=g-1;g>d;){if(c=f[d],d==h)return e[c];e[c]===undefined&&(e[c]={}),e=e[c],d++}},c.fn=c.prototype,c.fn.parent=c,c._super=c.__proto__,c.extend=function(a){var b=a.extended;for(var d in a)c[d]=a[d];b&&b(c)},c.include=function(a){var b=a.included;for(var d in a)c.fn[d]=a[d];b&&b(c)},c},animate=function(){function Anim(){this.init.apply(this,arguments[0])}var Tween={Linear:function(a,b,c,d){return c*a/d+b},Quad:{easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}},Cubic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b}},Quart:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOut:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b}},Quint:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b}},Sine:{easeIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOut:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b}},Expo:{easeIn:function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOut:function(a,b,c,d){return 0===a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b}},Circ:{easeIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b}},Elastic:{easeIn:function(a,b,c,d,e,f){if(0===a)return b;if(1==(a/=d))return b+c;f||(f=.3*d);var g;return!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),-(e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f))+b},easeOut:function(a,b,c,d,e,f){if(0===a)return b;if(1==(a/=d))return b+c;f||(f=.3*d);var g;return!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin(2*(a*d-g)*Math.PI/f)+c+b},easeInOut:function(a,b,c,d,e,f){if(0===a)return b;if(2==(a/=d/2))return b+c;f||(f=.3*d*1.5);var g;return!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f)+b:e*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f)*.5+c+b}},Back:{easeIn:function(a,b,c,d,e){return e===undefined&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOut:function(a,b,c,d,e){return e===undefined&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOut:function(a,b,c,d,e){return e===undefined&&(e=1.70158),(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b}},Bounce:{easeIn:function(a,b,c,d){return c-Tween.Bounce.easeOut(d-a,0,c,d)+b},easeOut:function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOut:function(a,b,c,d){return d/2>a?.5*Tween.Bounce.easeIn(2*a,0,c,d)+b:.5*Tween.Bounce.easeOut(2*a-d,0,c,d)+.5*c+b}}},color={sub:function(a,b,c){return c?a.substring(b,b+c):a.substring(b)},hex:function(a){if(0>a)return"00";if(a>255)return"ff";var b="0"+a.toString(16);return b.substring(b.length-2)},GetColors:function(a){a=a.replace("#","");var b,c,d;return a.length>3?(b=color.sub(a,0,2),c=color.sub(a,2,2),d=color.sub(a,4,2)):(b=color.sub(a,0,1),c=color.sub(a,1,1),d=color.sub(a,2,1),b+=b,c+=c,d+=d),[parseInt(b,16),parseInt(c,16),parseInt(d,16)]}},fn={getElement:function(a){return"string"==typeof a?doc.getElementById(a):a},objType:function(a){switch(Object.prototype.toString.call(a)){case"[object Object]":return"Object";case"[object Number]":return"Number";case"[object Array]":return"Array"}},getStyle:function(a,b){var c;if(doc.defaultView){var d=doc.defaultView.getComputedStyle(a,null);"borderWidth"==b?b="borderLeftWidth":b,c=b in d?d[b]:d.getPropertyValue(b),"auto"==c?c="0px":c}return a.style[b]||a.currentStyle&&("auto"==a.currentStyle[b]?"0px":a.currentStyle[b])||c},getOriCss:function(a,b){var c=[];for(var d in b)if(b.hasOwnProperty(d))if("transparent"==fn.getStyle(a,d)||/^#|rgb\(/.test(fn.getStyle(a,d))){if("transparent"==fn.getStyle(a,d)&&c.push([255,255,255]),/^#/.test(fn.getStyle(a,d))&&c.push(color.GetColors(fn.getStyle(a,d))),/^rgb\(/.test(fn.getStyle(a,d))){var e=/^rgb\(([0-9]{0,3}),\s([0-9]{0,3}),\s([0-9]{0,3})\)/g,f=fn.getStyle(a,d).replace(e,"$1 $2 $3").split(" ");c.push([parseInt(f[0]),parseInt(f[1]),parseInt(f[2])])}}else"opacity"==d?c.push(100*fn.getStyle(a,d)):c.push(parseInt(fn.getStyle(a,d)));return c},getEndCss:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&("opacity"==c?b.push(100*a[c]):/^#/.test(a[c])?b.push(color.GetColors(a[c])):b.push(parseInt(a[c])));return b}};return Anim.prototype={init:function(){this.elem=fn.getElement(arguments[0]),this.cssObj=arguments[1],this.cssOri=fn.getOriCss(this.elem,arguments[1]),this.cssEnd=fn.getEndCss(arguments[1]),this.durtime=arguments[2],this.animType="Tween.Linear",this.funObj=null,this.start=!1,this.complete=!1,this.onPause=!1,this.onRestart=!1;var a;if(arguments.length<3)throw new Error("\u81F3\u5C11\u8981\u4F20\u51653\u4E2A\u53C2\u6570");if(4==arguments.length){if("Object"==fn.objType(arguments[3])){this.funObj=arguments[3];for(a in this.funObj)"start"==a.toString()&&(this.start=!0),"complete"==a.toString()&&(this.complete=!0)}"string"==typeof arguments[3]&&(this.animType=arguments[3])}else if(5==arguments.length&&(this.animType=arguments[3],"Object"==fn.objType(arguments[4]))){this.funObj=arguments[4];for(a in this.funObj)"start"==a.toString()&&(this.start=!0),"complete"==a.toString()&&(this.complete=!0)}this.startAnim()},startAnim:function(){this.start&&this.funObj.start.call(this,this.elem);var that=this,t=0,props=[];for(var pro in this.cssObj)this.cssObj.hasOwnProperty(pro)&&props.push(pro);clearInterval(this.timer),this.timer=setInterval(function(){var d,c1,c2,c3,b1,b2,b3,r,g,b,i;if(that.onPause)return void clearInterval(that.timer);if(t<that.durtime/10)for(t++,i=0;i<props.length;i++){var c;"Array"!=fn.objType(that.cssOri[i])&&(b=that.cssOri[i]),"Array"!=fn.objType(that.cssEnd[i])&&(c=that.cssEnd[i]-that.cssOri[i]),d=that.durtime/10,"Array"==fn.objType(that.cssOri[i])&&"Array"==fn.objType(that.cssEnd[i])?(b1=that.cssOri[i][0],b2=that.cssOri[i][1],b3=that.cssOri[i][2],c1=that.cssEnd[i][0]-that.cssOri[i][0],c2=that.cssEnd[i][1]-that.cssOri[i][1],c3=that.cssEnd[i][2]-that.cssOri[i][2],r=color.hex(Math.ceil(eval(that.animType)(t,b1,c1,d))),g=color.hex(Math.ceil(eval(that.animType)(t,b2,c2,d))),b=color.hex(Math.ceil(eval(that.animType)(t,b3,c3,d))),that.elem.style[props[i]]="#"+r+g+b):"opacity"==props[i].toString()?that.elem.style[props[i]]=Math.ceil(eval(that.animType)(t,b,c,d))/100:that.elem.style[props[i]]=Math.ceil(eval(that.animType)(t,b,c,d))+"px"}else{for(i=0;i<props.length;i++)"Array"==fn.objType(that.cssOri[i])&&"Array"==fn.objType(that.cssEnd[i])?(c1=that.cssEnd[i][0],c2=that.cssEnd[i][1],c3=that.cssEnd[i][2],r=color.hex(Math.ceil(eval(that.animType)(t,b1,c1,d))),g=color.hex(Math.ceil(eval(that.animType)(t,b2,c2,d))),b=color.hex(Math.ceil(eval(that.animType)(t,b3,c3,d))),that.elem.style[props[i]]="#"+r+g+b):"opacity"==props[i].toString()?that.elem.style[props[i]]=that.cssEnd[i]/100:that.elem.style[props[i]]=that.cssEnd[i]+"px";clearInterval(that.timer),that.complete&&that.funObj.complete.call(that,that.elem)}},10)},pause:function(){this.onPause=!0}},function(){return new Anim(arguments)}}(),getGuid=function(){return Math.abs((new Date).getTime())+"_"+Math.round(1e8*Math.random())},jsonp=function(url,cb){var head=byTag("head")[0],ojs=byId(url);ojs&&head.removeChild(ojs),url+=-1==url.indexOf("&")?"?":"&",url=url+"_t"+getGuid();var fun=exports.fun="jsonp_"+getGuid();"function"==typeof cb&&eval(fun+"=function(res){cb(res)}"),url=url+"&callback="+fun;var js=create("script");js.src=url,js.id=url,js.type="text/javascript",js.language="javascript",head.appendChild(js)},jsLoad=function(a,b){var c=byTag("head")[0],d=create("script"),e=!1;d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,d.onload=d.onreadystatechange=null,"function"==typeof b&&b())},d.src=a;try{c.appendChild(d)}catch(f){}},ijax=function(){return{arrTaskLists:[],createLoadingIframe:function(){if(null!=this.loadFrames)return!1;var a="loadingIframe_thread"+Math.ceil(1e4*Math.random()),b="loadingIframe_thread"+Math.ceil(1e4*(Math.random()+1));this.loadFrames=[a,b];var c="";ua.isIE6&&(c='javascript:void((function(){document.open();document.domain="sina.com.cn";document.close()})())');var d='<iframe id="'+a+'" name="'+a+'" class="invisible" scrolling="no" src="" allowTransparency="true" style="display:none;" frameborder="0" ></iframe><iframe id="'+b+'" name="'+b+'" class="invisible" scrolling="no" src="'+c+'" allowTransparency="true" style="display:none;" frameborder="0" ></iframe>',e=create("div");e.id="ijax_iframes",e.innerHTML=d,doc.body.appendChild(e);var f=setInterval(bind2(function(){null!=byId(this.loadFrames[0])&&null!=byId(this.loadFrames[1])&&(clearInterval(f),f=null,this.loadingIframe={thread1:{container:byId(this.loadFrames[0]),isBusy:!1},thread2:{container:byId(this.loadFrames[1]),isBusy:!1}},this.loadByList())},this),10)},isIjaxReady:function(){if(typeof this.loadingIframe==C.U)return!1;for(var a in this.loadingIframe)if(!this.loadingIframe[a].isBusy)return this.loadingIframe[a].isBusy=!0,this.loadingIframe[a];return!1},request:function(a,b){var c={};c.url=a,c.option=b||{},this.arrTaskLists.push(c),null==this.loadFrames?this.createLoadingIframe():this.loadByList()},loadByList:function(){if(0===this.arrTaskLists.length)return!1;var a=this.isIjaxReady();if(!a)return!1;var b=this.arrTaskLists[0];this.loadData(b.url,b.option,a),this.arrTaskLists.shift()},loadData:function(a,b,c){var d=new Url(a);if(b.GET)for(var e in b.GET)d.setParam(e,encodeDoubleByte(b.GET[e]));d=d.toString();var f=c.container;if(f.listener=bind2(function(){if(b.onComplete||b.onException)try{var a,e=f.contentWindow.document,g=byTag("textarea")[0];a=typeof g!=C.U?g.value:e.body.innerHTML,b.onComplete?b.onComplete(a):b.onException()}catch(h){b.onException&&b.onException(h.message,d.toString())}c.isBusy=!1,removeEvent(f,"load",f.listener),this.loadByList()},this),addEvent(f,"load",f.listener),b.POST){var g=create("form");g.id="IjaxForm",g.action=d,g.method="post",g.target=f.id;for(var h in b.POST){var i=create("input");i.type="hidden",i.name=h,i.value=b.POST[h],g.appendChild(i)}doc.body.appendChild(g);try{g.submit()}catch(j){}}else try{window.frames(f.id).location.href=d}catch(j){f.src=d}}}}(),html5Ijax=function(){var a=function(){},b=/^http\s?\:\/\/[a-z\d\-\.]+/i,c="ijax-html5-iframe-",d=function(a){a=a||{},this.init(a)};return d.prototype={ready:!1,init:function(d){if(!this.ready){var e,f,g,h,i,j=this,k=d.proxyUrl;if(j.onsuccess=d.onsuccess||a,j.onfailure=d.onfailure||a,k){i=function(a){if(!j.ready||a.origin!==j.target)return void j.destroy();var b=a.data;b&&"failure"!==b?(j.onsuccess&&j.onsuccess(a.data),j.destroy()):(j.destroy(),j.onfailure&&j.onfailure())},addEvent(window,"message",i),e=c+Date.parse(new Date),f='<iframe id="'+e+'" name="'+e+'" src="'+k+'" frameborder="0" style="width:0;height:0;display:none;"></iframe>';var l=create("div");l.id=c+"iframes",l.innerHTML=f,g=l.childNodes[0],h=function(){j.ready=!0;var a=g.src,c=a.match(b);j.target=c&&c[0]||"*"},addEvent(g,"load",h),doc.body.insertBefore(g,doc.body.firstChild),j._iframe=g,j._iframeLoaded=h,j._receiver=i}}},send:function(a){a=a||{};var b=this,c=a.url,d=a.data,e=a.onsuccess,f=a.onfailure;if(c&&"string"==typeof c){if(e&&(b.onsuccess=e),f&&(b.onfailure=f),!b.ready)return void setTimeout(function(){b.send(a)},50);d?d+="&_url="+window.encodeURIComponent(c):d="_url="+window.encodeURIComponent(c),b._iframe.contentWindow.postMessage(d,b.target)}},destroy:function(){var a=this._iframe;removeEvent(a,"load",this._iframeLoaded),a.parentNode.removeChild(a),removeEvent(window,"message",this._receiver),this._iframe=null,this._iframeLoaded=null,this._receiver=null}},d}(),$={C:C,doc:doc,byId:byId,byTag:byTag,byAttr:byAttr,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,preventDefault:preventDefault,stopPropagation:stopPropagation,contains:contains,create:create,insertAfter:insertAfter,ua:ua,domReady:domReady,timeoutHandle:timeoutHandle,cssSupports:cssSupports,getXY:getXY,getScrollPos:getScrollPos,getPosition:getPosition,getStyle:getStyle,getOuterStyle:getOuterStyle,setStyle:setStyle,trim:trim,encodeHTML:encodeHTML,decodeHTML:decodeHTML,encodeDoubleByte:encodeDoubleByte,byteLength:byteLength,strLeft:strLeft,indexOf:indexOf,inArray:inArray,isArray:isArray,isEmptyObj:isEmptyObj,extend:extend,jsonToQuery:jsonToQuery,queryToJson:queryToJson,addEvent:addEvent,removeEvent:removeEvent,fixEvent:fixEvent,byClass:byClass,builder:builder,custEvent:custEvent,delegatedEvent:delegatedEvent,bind2:bind2,parseParam:parseParam,Url:Url,placeholder:placeholder,Timer:Timer,throttle:throttle,reachBottom:reachBottom,shine:shine,Clz:Clz,animate:animate,getGuid:getGuid,jsonp:jsonp,jsLoad:jsLoad,ijax:ijax,html5Ijax:html5Ijax};$.register=function(a,b){for(var c,d=0,e=$,f=a.split("."),g=f.length,h=g-1;g>d;){if(c=f[d],d==h){if(e[c]!==undefined)throw f+":: has registered";e[c]=b($)}e[c]===undefined&&(e[c]={}),e=e[c],d++}};var EXPORTS_NAME="mysInacMNT",UGLIFY_NAME="___"+EXPORTS_NAME+"___";if(exports[UGLIFY_NAME]=$,exports[EXPORTS_NAME])throw'\u4E2A\u6027\u5316\u63A8\u8350\u5168\u5C40\u53D8\u91CF\u540D"'+EXPORTS_NAME+'"\u5DF2\u7ECF\u88AB\u5360\u7528\uFF0C\u53EF\u4F7F\u7528'+UGLIFY_NAME;exports[EXPORTS_NAME]=$}(window),function(a){var b=a.___mysInacMNT___;b.register("msg",function(){var a={I001:"\u8BC4\u8BBA\u6210\u529F",I002:"\u5E76\u5DF2\u8F6C\u53D1\u5FAE\u535A",I003:"\u8BF7\u8F93\u5165\u8BC4\u8BBA",I004:"\u8BF7\u8F93\u5165\u5BC6\u7801",I005:"\u8BF7\u5148\u767B\u5F55\u518D\u63D0\u4EA4\u8BC4\u8BBA",I006:"\u5DF2\u5230\u6700\u540E\u4E00\u9875",I007:"\u53D1\u5E03",I008:"\u8D5E",I009:"\u56DE\u590D",I010:"\u5FAE\u535A\u8D26\u53F7/\u535A\u5BA2/\u90AE\u7BB1",I011:"\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55",I012:"\u6CE8\u518C",I013:"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",I014:"\u6EDA\u52A8\u52A0\u8F7D\u66F4\u591A",I015:"\u6700\u70ED\u8BC4\u8BBA",I016:"\u6700\u65B0\u8BC4\u8BBA",I017:"\u5237\u65B0",I018:"\u5206\u4EAB\u5230\u5FAE\u535A",I019:"\u5206\u4EAB",I020:"\u5206\u4EAB\u5230\u65B0\u6D6A\u5FAE\u535A",I021:"\u5206\u4EAB\u5230\u817E\u8BAF\u5FAE\u535A",I022:"\u6708",I023:"\u65E5",I024:"\u4ECA\u5929",I025:"\u79D2\u524D",I026:"\u5206\u949F\u524D",I027:"\u5DF2\u5230\u6700\u540E\u4E00\u9875",I028:"<span>\u8FD8\u6709<em><% this.num %></em>\u6761\u8BC4\u8BBA\uFF0C</span>",I029:"\u767B\u5F55",I030:"\u9000\u51FA",I031:"<em><% this.comment %></em>\u6761\u8BC4\u8BBA",I032:"<em><% this.person %></em>\u4EBA\u53C2\u4E0E",I033:"<em><% this.post %></em>\u6761\u76F8\u5173\u5E16\u5B50",I034:"\u70B9\u51FB\u5C55\u5F00\u4E4B\u524D\u7684\u8BC4\u8BBA",I035:"\u70B9\u51FB\u6536\u8D77\u4E4B\u524D\u7684\u8BC4\u8BBA",I036:"\u56DE\u590D<% this.userLnk %>\uFF1A",I037:"\uFF1A",I038:"\u6211\u6709\u8BDD\u8BF4",I039:'<span class="reply-form-tip"><em>\u70B9\u8D5E\u6210\u529F\uFF01</em>\u518D\u5BF9TA\u8BF4\u70B9\u4EC0\u4E48\u5427~</span>',I040:"",I041:"\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u5019...",I042:"\u8BC4\u8BBA\u8D85\u65F6\uFF0C\u8BF7\u7A0D\u5019\u518D\u8BD5",I043:"\u4E3E\u62A5",I100:'\u60A8\u5C1A\u672A\u53D1\u8868\u4EFB\u4F55\u8BC4\u8BBA\u54E6\u3002\u770B\u770B\u7F51\u53CB\u4EEC\u7684 <a href="http://news.sina.com.cn/hotnews/" target="_blank">\u70ED\u8BC4\u65B0\u95FB</a> \u4E2D\u6709\u6CA1\u6709\u4F60\u611F\u5174\u8DA3\u7684\u5427~',I101:"\u8FD8\u6CA1\u4EBA\u56DE\u590D\u60A8\u7684\u8BC4\u8BBA\u54E6\u3002\u7EE7\u7EED\u52AA\u529B\uFF0C\u591A\u591A\u53D1\u8868\u8BC4\u8BBA\u548C\u5927\u5BB6\u4E00\u8D77\u4E92\u52A8\u5427~"},b=function(){var b={set:function(b,c){"all"!==b?a[b]=c:a=c},get:function(b){return"undefined"==typeof b?a:a[b]}};return b}();return b})}(window),function(a,b){var c=a.___mysInacMNT___;if(c.custEvent.define(c,["my_ce_login","my_ce_weiboLogin","my_ce_weiboLogout","my_ce_loginError","my_ce_logout","my_ce_cmnt_new","my_ce_cmnt_close"]),!a.SINA_OUTLOGIN_LAYER)throw new Error("http://i.sso.sina.com.cn/js/outlogin_layer.js not loaded");var d=a.SINA_OUTLOGIN_LAYER,e="http://comment5.news.sina.com.cn/comment/skin/default.html?info_type=1&style=1&user_uid=";c.register("login",function(){var b=new c.Clz,f=function(a,b){var d=["login","weibo_login","logout","weibo_login_security"],e="mysInacMNT_";b=b||0;var f=c.byTag("body")[0];if(f){c.addClass(f,e+a);for(var g=0,h=d.length;h>g;g++){
var i=d[g];i==a||b||c.removeClass(f,e+i)}}},g=function(a){c.jsonp("http://comment5.news.sina.com.cn/user/security",function(b){if(b&&b.result&&b.result.data){var c=b.result.data.is_security||!1;c&&"function"==typeof a&&a()}})},h=null;return b.include({init:function(a){var b=this;b._setOpt(a),b._setLogin()},_setOpt:function(a){this.set("opt",c.extend({loginSuccess:function(){},logoutSuccess:function(){},error:function(a){}},a,!0))},_setLogin:function(){var a=this,b=d.STK;b.Ready(function(){d.register("login_success",function(){a.lInSuccess()}).register("logout_success",function(){a.lOutSuccess()}).register("login_error",function(b){a.lInError(b)}),d.init(),a.isLogin()||f("logout")})},lOutSuccess:function(){var a=this,b=a.get("opt");c.custEvent.fire(c,"my_ce_logout"),b.logoutSuccess(),f("logout")},lInSuccess:function(){var a=this,b=a.get("opt");a.getWeiboInfo(function(a){f("weibo_login"),a.result&&a.result.data?(h=a.result.data,c.custEvent.fire(c,"my_ce_weiboLogin"),g(function(){f("weibo_login_security",1)})):(h=null,c.custEvent.fire(c,"my_ce_weiboLogout")),c.custEvent.fire(c,"my_ce_login")},function(){f("login")}),b.loginSuccess()},lInError:function(a){var b=this,d=b.get("opt"),e=!c.inArray(a.errno,["5024","5025","4049","2070"]);return a.result?void 0:(c.custEvent.fire(c,"my_ce_loginError",{validated:e,info:a}),d.error(),!1)},isLogin:function(){return d.isLogin()},getWeiboInfo:function(b,d){var e=a.sinaSSOController.getSinaCookie(),f="http://api.sina.com.cn/weibo/2/users/show.json?uid="+e.uid+"&source=2835469272",g=c.getGuid();c.timeoutHandle(g,function(a){a.timeout(g,function(){d()}),c.jsonp(f,function(c){b(c),a.success(g)})},3e3)},lOut:function(){d.logout()},lIn:function(a,b,c){if(window.SINA_USER_PANEL){var e=window.SINA_USER_PANEL;try{e.setOutLoginMiddle(!0)}catch(f){}e.getOutLogin().show()}else d.show()},getName:function(){var a="",b=d.getSinaCookie();return h?a='<a href="http://weibo.com/u/'+h.id+'/" target="_blank">'+(h.screen_name||h.name)+"</a>":b&&(a='<a href="'+e+b.uid+'" target="_blank">'+(b.nick||b.name)+"</a>"),a},getFace:function(){var a="",b="http://img.t.sinajs.cn/t5/style/images/face/male_180.png",c=d.getSinaCookie(),f="http://weibo.com/";return h?(f="http://weibo.com/u/"+h.id+"/",a=h.screen_name||h.name,b=h.profile_image_url.replace("/50/","/180/")):c&&(b="http://portrait5.sinaimg.cn/"+c.uid+"/blog/50",a=c.nick||c.name,f=e+c.uid),'<a href="'+f+'" target="_blank" title="'+a+'"><img src="'+b+'" alt="" /></a>'},getInfo:function(){return{sina:d.getSinaCookie(),weibo:h}},getCommentConfig:function(){var a=this.getInfo(),b="";if(a.weibo){var c=a.weibo;b="&wb_verified="+c.verified+"&wb_screen_name="+c.screen_name+"&wb_user_id="+c.idstr+"&wb_time=&wb_profile_img="+c.profile_image_url}return b}}),new b})}(window),function(exports,undefined){var $=exports.___mysInacMNT___,doc=$.doc;$.register("app",function(){var app={};return app.track=function(a,b){try{exports._S_uaTrack(a,b)}catch(c){}},app.textareaUtils=function(){var a={},b=doc.selection;return a.selectionStart=function(a){if(!b)return a.selectionStart;var c=b.createRange(),d=0,e=doc.body.createTextRange();for(e.moveToElementText(a),d;e.compareEndPoints("StartToStart",c)<0;d++)e.moveStart("character",1);return d},a.selectionBefore=function(b){return b.value.slice(0,a.selectionStart(b))},a.selectText=function(a,c,d){if(a.focus(),!b)return void a.setSelectionRange(c,d);var e=a.createTextRange();e.collapse(1),e.moveStart("character",c),e.moveEnd("character",d-c),e.select()},a.insertText=function(c,d,e,f){if(c.focus(),f=f||0,!b){var g=c.value,h=e-f,i=h+d.length;return c.value=g.slice(0,h)+d+g.slice(e,g.length),void a.selectText(c,i,i)}var j=b.createRange();j.moveStart("character",-f),j.text=d},a.getCursorPos=function(a){var c=0;if($.ua.isIE){a.focus();var d=null;d=b.createRange();var e=d.duplicate();e.moveToElementText(a),e.setEndPoint("EndToEnd",d),a.selectionStart=e.text.length-d.text.length,a.selectionEnd=a.selectionStart+d.text.length,c=a.selectionStart}else(a.selectionStart||"0"===a.selectionStart)&&(c=a.selectionStart);return c},a.getSelectedText=function(a){var c="",d=function(a){return a.selectionStart!==undefined&&a.selectionEnd!==undefined?a.value.substring(a.selectionStart,a.selectionEnd):""};return c=window.getSelection?d(a):b.createRange().text},a.setCursor=function(a,b,c){if(b=null===b?a.value.length:b,c=null===c?0:c,a.focus(),a.createTextRange){var d=a.createTextRange();d.move("character",b),d.moveEnd("character",c),d.select()}else a.setSelectionRange(b,b+c)},a.unCoverInsertText=function(a,b,c){c=null===c?{}:c,c.rcs=null===c.rcs?a.value.length:1*c.rcs,c.rccl=null===c.rccl?0:1*c.rccl;var d=a.value,e=d.slice(0,c.rcs),f=d.slice(c.rcs+c.rccl,""===d?0:d.length);a.value=e+b+f,this.setCursor(a,c.rcs+(null===b?0:b.length))},a}(),app.splitNum=function(a){a+="";for(var b=/(-?\d+)(\d{3})/;b.test(a);)a=a.replace(b,"$1,$2");return a},app.template=function(a,b){function c(a){return!("undefined"==typeof a||!a.nodeName||!a.nodeType)}function d(a,b){for(var c,d=/<%([^%>]+)?%>/g,e=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,f="var r=[];\n",g=0,h=function(a,b){return f+=b?a.match(e)?a+"\n":"r.push("+a+");\n":a?'r.push("'+a.replace(/"/g,'\\"')+'");\n':"",h};c=d.exec(a);)h(a.slice(g,c.index))(c[1],!0),g=c.index+c[0].length;return h(a.substr(g,a.length-g)),f+='return r.join("");',new Function(f.replace(/[\r\t\n]/g,"")).apply(b)}if(c(a)){var e=/^(textarea|input)$/i.test(a.nodeName)?a.value:a.innerHTML;return d(e,b)}return d(a,b)},app.simCheckbox=function(a){var b="my-sina-comment-chkbox-selected",c=$.hasClass(a,b);c?($.removeClass(a,b),a.setAttribute("checked",0)):($.addClass(a,b),a.setAttribute("checked",1))},app.textareaAutoGrow=function(){var a=function(a,b){for(var c=0,d="";b>c;c++)d+=a;return d},b=function(b){var c=b.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(b){return a("&nbsp;",b.length-1)+" "});return c},c=function(a,b){var c=this,d={clzPrefix:"autogrow-textarea-",minHeight:"auto",maxHeight:1/0,context:a.parentNode,styles:{},realTime:!0,speed:200};b=$.extend(d,b),"auto"===b.minHeight&&(b.minHeight=$.getStyle(a,"height").replace("px","")),a&&(c.stop=!1,c.config=b,c.textarea=a,c._bindEvent(),c.setCloneStyle(),c.grow())};return c.prototype={constructor:c,_bindEvent:function(){var a=this,b=a.textarea;$.addEvent(b,"keyup",function(b){a.throttleGrow()}),$.addEvent(b,"focus",function(b){a.throttleGrow()}),$.addEvent(window,"resize",function(b){a.throttleGrow()})},setCloneStyle:function(){var a=this,b=a.config,c=a.textarea;a.clone||(a.clone=document.createElement("div"),a.clone.className=b.clzPrefix+"clone",b.context.appendChild(a.clone));var d=a.clone,e={position:"absolute",wordWrap:"break-word",top:0,left:"-9999px"},f={};f=$.isEmptyObj(b.styles)?$.extend(e,{width:$.getStyle(c,"width"),fontSize:$.getStyle(c,"fontSize"),fontFamily:$.getStyle(c,"fontFamily"),lineHeight:$.getStyle(c,"lineHeight")}):$.extend(e,b.styles),$.setStyle(d,f)},throttleGrow:function(){var a=this;a.stop||$.throttle(a.grow,a,a.config.speed)},grow:function(){var a=this,c=a.config;c.realTime&&a.setCloneStyle(),a.clone.innerHTML=b(a.textarea);var d=$.getStyle(a.clone,"height").replace("px",""),e="hidden";d=Math.max(d,c.minHeight),d>c.maxHeight&&(d=c.maxHeight,e="auto"),d=Math.min(d,c.maxHeight),$.setStyle(a.textarea,{height:d+"px",overflow:e})},revive:function(){var a=this;a.stop=!1},destroy:function(){var a=this;a.stop=!0}},c}(),app.getWinSize=function(a){var b,c,d;return d=a?a.document:document,"CSS1Compat"===d.compatMode?(b=d.documentElement.clientWidth,c=d.documentElement.clientHeight):window.innerHeight?(d=a?a.self:window,b=d.innerWidth,c=d.innerHeight):d.documentElement&&d.documentElement.clientHeight?(b=d.documentElement.clientWidth,c=d.documentElement.clientHeight):d.body&&(b=d.body.clientWidth,c=d.body.clientHeight),navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&b>c&&(c=672),{width:b,height:c}},app.post=function(url,param,cb,timeoutCb,time){var cbName="iJax"+Date.parse(new Date);try{doc.domain="sina.com.cn"}catch(e){}param.callback=cbName;var TIMEOUT_NAME="TD_"+(new Date).getTime();$.timeoutHandle(TIMEOUT_NAME,function(handle){if(handle.timeout(TIMEOUT_NAME,function(){"function"==typeof timeoutCb&&timeoutCb()}),window[cbName]=function(m){"string"==typeof m&&(m=eval("("+m+")")),"function"==typeof cb&&cb(m),handle.success(TIMEOUT_NAME)},!$.ua.isFF||param.iframe&&1===param.iframe)$.ijax.request(url,{POST:param});else{param.callback=undefined,param=$.jsonToQuery(param);var Sender=new $.html5Ijax({proxyUrl:"http://comment5.news.sina.com.cn/comment/postmsg.html"});Sender.send({url:url,data:param,onsuccess:window[cbName],onfailure:function(){}})}},time||5e3)},app.cmntEncodeHtml=function(a){return $.encodeHTML($.decodeHTML(a))},app})}(window),function(a,b){var c=a.___mysInacMNT___,d=c.doc,e=c.app.track,f=c.C.U,g=c.app,h=c.msg.get,i=c.app.template;if(!c.cssSupports("borderRadius")){var j=document.documentElement;c.addClass(j,"mysInacMNT-no-border-radius")}var k=function(a){return"cmnt"===a?"mycomment_":"replymy_"},l=function(a,b){return b=b||"",' suda-uatrack="key=index_mycenter&value='+b+a+'" '};c.register("cmnt",function(){var j={};return j.config={encoding:"gbk",comment:{}},j.data=function(){var a={},b=c.isArray,d=c.extend;return{set:function(c,e,g){typeof a[c]==f&&(a[c]={}),typeof a[c][e]==f&&(a[c][e]={});var h,i,j=a[c][e];if(b(g))for(var k=0,l=g.length;l>k;k++)h=g[k],h.mid?i=h.mid:h.newsid&&(i=h.newsid),j[i]=h;else j=d(j,g);a[c][e]=j},get:function(b,c,d){return b?c?d?a[b][c][d]:a[b][c]||a[c]||a:a[b]||a:a}}}(),j.face=function(){function a(a){if(j.isShow&&a){var b=a.target||a.srcElement;b===j.iniTarget||c.contains(j.iconLayer,b)||j.hide()}}function b(a,b,d,e){b=b||"360px",d=d||{};var f=[];for(var g in d)f.push('<li><a href="javascript:void(0)" action-type="face-insert"action-data="text=['+g+']" title="'+g+'"><img src="'+e+d[g]+'.gif" alt="'+g+'" /></a></li>');var h=[];h.push('<table class="my-sina-comment-layer">'),h.push('<tbody><tr> <td class="a-l-top-l"></td> <td class="a-l-top-c"></td> <td class="a-l-top-r"></td> </tr> <tr> <td class="a-l-m-l"></td> <td class="a-l-m-c"><div class="a-l-box">'),h.push('<div class="a-l-box-con" style="'+b+'">'),h.push('<div class="my-sina-comment-face-list clearfix">'),h.push('<div class="a-l-arrow"></div>'),h.push('<div class="a-l-close-wrap">'),h.push('<a action-type="face-close" class="a-l-close" href="javascript:;" title="\u5173\u95ED"></a>'),h.push("</div>"),h.push('<div class="face-list-items">'),h.push("<ul>"),h.push(f.join("")),h.push("</ul>"),h.push("</div>"),h.push("</div>"),h.push("</div>"),h.push('</div></td><td class="a-l-m-r"></td></tr><tr><td class="a-l-btm-l"></td> <td class="a-l-btm-c"></td><td class="a-l-btm-r"></td></tr></tbody></table>');var i=c.create("div");return i.innerHTML=h.join(""),i.style.display="none",(a||document.body).appendChild(i),i}function e(a,b){if(c.ua.isIE){var e=a.createTextRange();if(e.collapse(!0),a.caretPos){var f=a.caretPos;f.text=" "==f.text.charAt(f.text.length-1)?b+" ":b,e.moveStart("character",a.value.indexOf(b)+1),e.moveEnd("character",b.length-2)}else{var g=d.selection.createRange();d.selection.empty(),g.text=b}}else if(a.setSelectionRange){var h=a.selectionStart,i=a.selectionEnd,j=a.value.substring(0,h),k=a.value.substring(i),l=j+b,m=l.length;a.value=l+k,a.setSelectionRange(m,m)}else a.value+=b}var f="http://www.sinaimg.cn/dy/deco/2012/1217/face/",g="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/",h={"\u54C8\u54C8":"haha","\u5077\u7B11":"tx","\u6CEA":"lei","\u563B\u563B":"xixi","\u7231\u4F60":"aini","\u6316\u9F3B\u5C4E":"wbs","\u5FC3":"xin"},i={"\u56FD\u65D7":"dc/flag_thumb","\u8D70\u4F60":"ed/zouni_thumb","\u7B11\u54C8\u54C8":"32/lxhwahaha_thumb","\u6C5F\u5357style":"67/gangnamstyle_thumb","\u5410\u8840":"8c/lxhtuxue_thumb","\u597D\u6FC0\u52A8":"ae/lxhjidong_thumb","lt\u5207\u514B\u95F9":"73/ltqiekenao_thumb","moc\u8F6C\u53D1":"cb/moczhuanfa_thumb","ala\u8E66":"b7/alabeng_thumb","gst\u8010\u4F60":"1b/gstnaini_thumb","xb\u538B\u529B":"e0/xbyali_thumb","din\u63A8\u649E":"dd/dintuizhuang_thumb","\u8349\u6CE5\u9A6C":"7a/shenshou_thumb","\u795E\u9A6C":"60/horse2_thumb","\u6D6E\u4E91":"bc/fuyun_thumb","\u7ED9\u529B":"c9/geili_thumb","\u56F4\u89C2":"f2/wg_thumb","\u5A01\u6B66":"70/vw_thumb","\u718A\u732B":"6e/panda_thumb","\u5154\u5B50":"81/rabbit_thumb","\u5965\u7279\u66FC":"bc/otm_thumb","\u56E7":"15/j_thumb","\u4E92\u7C89":"89/hufen_thumb","\u793C\u7269":"c4/liwu_thumb","\u5475\u5475":"ac/smilea_thumb","\u563B\u563B":"0b/tootha_thumb","\u54C8\u54C8":"6a/laugh","\u53EF\u7231":"14/tza_thumb","\u53EF\u601C":"af/kl_thumb","\u6316\u9F3B\u5C4E":"a0/kbsa_thumb","\u5403\u60CA":"f4/cj_thumb","\u5BB3\u7F9E":"6e/shamea_thumb","\u6324\u773C":"c3/zy_thumb","\u95ED\u5634":"29/bz_thumb","\u9119\u89C6":"71/bs2_thumb","\u7231\u4F60":"6d/lovea_thumb","\u6CEA":"9d/sada_thumb","\u5077\u7B11":"19/heia_thumb","\u4EB2\u4EB2":"8f/qq_thumb","\u751F\u75C5":"b6/sb_thumb","\u592A\u5F00\u5FC3":"58/mb_thumb","\u61D2\u5F97\u7406\u4F60":"17/ldln_thumb","\u53F3\u54FC\u54FC":"98/yhh_thumb","\u5DE6\u54FC\u54FC":"6d/zhh_thumb","\u5618":"a6/x_thumb","\u8870":"af/cry","\u59D4\u5C48":"73/wq_thumb","\u5410":"9e/t_thumb","\u6253\u54C8\u6B20":"f3/k_thumb","\u62B1\u62B1":"27/bba_thumb","\u6012":"7c/angrya_thumb","\u7591\u95EE":"5c/yw_thumb","\u998B\u5634":"a5/cza_thumb","\u62DC\u62DC":"70/88_thumb","\u601D\u8003":"e9/sk_thumb","\u6C57":"24/sweata_thumb","\u56F0":"7f/sleepya_thumb","\u7761\u89C9":"6b/sleepa_thumb","\u94B1":"90/money_thumb","\u5931\u671B":"0c/sw_thumb","\u9177":"40/cool_thumb","\u82B1\u5FC3":"8c/hsa_thumb","\u54FC":"49/hatea_thumb","\u9F13\u638C":"36/gza_thumb","\u6655":"d9/dizzya_thumb","\u60B2\u4F24":"1a/bs_thumb","\u6293\u72C2":"62/crazya_thumb","\u9ED1\u7EBF":"91/h_thumb","\u9634\u9669":"6d/yx_thumb","\u6012\u9A82":"89/nm_thumb","\u5FC3":"40/hearta_thumb","\u4F24\u5FC3":"ea/unheart","\u732A\u5934":"58/pig",ok:"d6/ok_thumb","\u8036":"d9/ye_thumb",good:"d8/good_thumb","\u4E0D\u8981":"c7/no_thumb","\u8D5E":"d0/z2_thumb","\u6765":"40/come_thumb","\u5F31":"d8/sad_thumb","\u8721\u70DB":"91/lazu_thumb","\u86CB\u7CD5":"6a/cake","\u949F":"d3/clock_thumb","\u8BDD\u7B52":"1b/m_thumb"},j={iniTarget:null,srcInput:null,iconLayer:null,iconText:"",isShow:!1,callback:function(){}};return j.show=function(d,e,f,h,k,l){var m,n=j.iconLayer;return n&&a(),j.wrap=j.wrap||null,n&&j.wrap==f||(n=b(f,l,i,g),j.wrap=f),f&&f!=document.body?m={top:0,left:0}:(m=c.getPosition(d),m.top+=d.offsetHeight),c.ua.isIE&&(m.left+=-10),isNaN(h)||(m.left+=h),isNaN(k)||(m.top+=+k),n.style.cssText="left:"+m.left+"px;top:"+m.top+'px;position:absolute;z-index:1700;display:"";zoom:1;',j.iconLayer=n,j.iniTarget=d,j.srcInput=e,j.iconText=null,j.isShow=!0,c.addClass(d,"trigger-active"),c.addEvent(document.body,"click",a,!1),j.iconLayer},j.hide=function(){var b=j.iconLayer;return b&&(b.style.display="none"),j.iniTarget&&c.removeClass(j.iniTarget,"trigger-active"),c.removeEvent(document.body,"click",a),j.isShow=!1,b},j.getFace=function(){return j.iconText},j.insert=function(a,b){var d=j.srcInput;a&&(j.hide(),d&&(d.focus(),setTimeout(function(){var f=d.getAttribute("range");if(null==f)e(d,a);else{var g=f.split("&");c.app.textareaUtils.unCoverInsertText(d,a,{rcs:g[0],rccl:g[1]});var h=c.app.textareaUtils.getCursorPos(d,a);d.setAttribute("range",h+"&0")}b&&b()},10)))},j.set=function(a,b,c){"all"==a?(g=b,i=c):(f=b,h=c)},j.get=function(a){return"all"==a?{faces:i,base:g}:{faces:h,base:f}},j.filter=function(){var a=/\[(.*?)\]/g;return function(b){return b=b||"",b=b.replace(a,function(a,b){var c=i[b];return c&&(c=g+c+".gif"),c?'<img class="my-sina-comment-txt-face" title="'+b+'" alt="'+b+'" src="'+c+'" />':b})}}(),j}(),j.commentTip=function(){var a={};a.timeout=null,a.animate=null;var b=function(){var a=c.create("div");return a.className="my-sina-comment-tip",a.style.visibility="hidden",a.style.position="absolute",c.byTag("body")[0].appendChild(a),a},d=function(d){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause(),d=d||0,d?c.animate(a.dom,{opacity:0},d,"Tween.Quad.easeOut",{start:function(a){},complete:function(b){c.setStyle(a.dom,{left:"-9999px",opacity:0})}}):c.setStyle(a.dom,{left:"-9999px",opacity:0})},e=function(a,b,d){var e=0,f=0;return a&&(e=c.getStyle(a,"width"),f=c.getStyle(a,"height")),e=parseFloat(e),e=isNaN(e)?b:e,f=parseFloat(f),f=isNaN(f)?d:f,{width:e,height:f}},f=function(d,f,g,h){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause(),a.dom.innerHTML='<div class="inner '+f+'"><i></i><div class="txt">'+g+"</div> </div>";var i=c.getPosition(d),j=e(a.dom,100,30),k=e(d,100,40);c.setStyle(a.dom,{top:i.top+k.height/2+6-j.height/2+"px",left:i.left+k.width/2+6-j.width/2+"px",opacity:0,visibility:"visible"}),h=h||0,h&&(a.timeout=setTimeout(function(){a.hide(200)},h)),c.animate(a.dom,{opacity:1},200,"Tween.Quad.easeIn",{start:function(a){},complete:function(a){}})};return a.show=f,a.hide=d,a}(),j.truncate=function(){var a=!1,b=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d=function(a,b){return 3==a.nodeType?f(a,b):e(a,b)},e=function(a,b){var c=a.cloneNode(!0);c.setAttribute("comment-type",""),c.innerHTML&&(c.innerHTML="");var e=document.createDocumentFragment();e.innerHTML="";for(var f,h=a.childNodes,i=0,j=h.length;j>i;i++){var k=h[i],l=b-g(c).length;if(0===l)return c;f=d(k,l),f&&("string"==typeof f&&(f=document.createTextNode(f)),c.appendChild(f))}return c},f=function(c,d){var e=j(c.data);return a&&(e=e.replace(/^ /,"")),a=!!e.match(/ $/),e=e.slice(0,d),b(e)},g=function(a){if(a.innerText)return a.innerText;var b="";a=a.childNodes||a;for(var c=0;c<a.length;c++)b+=1!=a[c].nodeType?a[c].nodeValue:g(a[c].childNodes);return b},h=function(a){return a.replace(/(^[\s\u3000]*)|([\s\u3000]*$)/g,"")},i=function(a,b,c,d){var e=document.createElement("a");e.href="javascript:;",e.className=c,e.setAttribute("action-type","txt-toggle"),e.setAttribute("action-data","type="+d),e.innerHTML=b,a.appendChild(e)},j=function(a){return a.replace(/\s+/g," ")};return{handle:function(a,b){var e=h(j(g(a))).length;if(!(b>=e||a.__truncated__)){a.__truncated__=!0;var f=b-5;f=Math.max(f,0);var k=d(a,f);a.style.display="none",c.insertAfter(k,a),i(a,"[\u6536\u8D77]&uarr;","txt-less txt-toggle","less"),i(k,"[\u5C55\u5F00]&darr;","txt-more txt-toggle","more")}},toggle:function(a,b){var d=c.byClass("txt",a.parentNode.parentNode);"more"==b?(d[1].style.display="none",d[0].style.display=""):(d[1].style.display="",d[0].style.display="none")}}}(),j.vote=function(a){var b="http://comment5.news.sina.com.cn/cmnt/vote",d=c.extend({channel:"",newsid:"",parent:"",format:"js",vote:1,callback:function(a){},domain:"sina.com.cn"},a,!0);c.ijax.request(b,{POST:d})},j.voteTip=function(){var a={};a.timeout=null,a.animate=null;var b=function(){var a=c.create("div");return a.className="my-sina-comment-vote-tip",a.style.display="none",a.style.position="absolute",c.byTag("body")[0].appendChild(a),a},d=function(){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause(),c.animate(a.dom,{opacity:0},200,"Tween.Quad.easeOut",{start:function(a){},complete:function(b){c.setStyle(a.dom,{left:"-9999px",opacity:0,display:"none"})}})},e=function(a,b,d){var e=c.getOuterStyle(a,"width"),f=c.getOuterStyle(a,"height");return e=parseFloat(e),e=isNaN(e)?b:e,f=parseFloat(f),f=isNaN(f)?d:f,{width:e,height:f}},f=function(d,f){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause();var g=c.getPosition(d),h=e(a.dom,100,30),i=e(d,100,40);c.setStyle(a.dom,{top:g.top+"px",left:g.left+i.width/2-h.width/2+"px",opacity:0,display:"block"}),f=f||0,f&&(a.timeout=setTimeout(function(){a.hide()},f)),c.animate(a.dom,{top:g.top-35+"px",opacity:1},200,"Tween.Quad.easeIn",{start:function(a){},complete:function(a){}})};return a.show=f,a.hide=d,a}(),j.comment=function(a,b,d){var e=j.config.comment,f="http://comment5.news.sina.com.cn/cmnt/submit",g=j.config.encoding,h=c.extend({channel:"",newsid:"",parent:"",content:"",format:"json",ie:g,oe:g,ispost:0,share_url:location.href.split("#")[0],video_url:"",img_url:"",iframe:1},a,!0);h=c.extend(h,e),c.app.post(f,h,function(a){b(a)},function(){d()})},j.formateTime=function(a,b){var c=h("I022"),d=h("I023"),e=h("I024"),f=h("I025"),g=h("I026"),i=a.getFullYear(),j=b.getFullYear(),k=a.getMonth()+1,l=b.getMonth()+1,m=a.getDate(),n=b.getDate(),o=a.getHours(),p=b.getHours();10>p&&(p="0"+p);var q=b.getMinutes();10>q&&(q="0"+q);var r=a-b;return r=r>0?r:0,r/=1e3,i!=j?j+"-"+l+"-"+n+" "+p+":"+q:k!=l||m!=n?l+c+n+d+p+":"+q:o!=p&&r>3600?e+p+":"+q:51>r?(r=1>r?1:r,Math.floor((r-1)/10)+1+"0"+f):Math.floor(r/60+1)+g},j.updateTime=function(){var a=j.formateTime,d=0,e=function(e){var f=c.byAttr(e,"comment-type","time"),g=new Date;g.setTime(g.getTime()-d);for(var h,i=0;i<f.length;i++){var j=f[i],k=j.getAttribute("date");if(/^\s*\d+\s*$/.test(k)){var l=new Date;l.setTime(parseInt(k,10)),j.innerHTML=a(g,l),h===b&&(h=g.getTime()-l.getTime()<6e4)}}return h};return function(a){var b,c=1e3,d=function(f){clearTimeout(b),b=setTimeout(function(){d(e(a)?c:6e4)},f)},f=function(){d(c)};d(c);var g={destroy:function(){clearTimeout(b),g=a=b=d=f=null}};return g}}(),j.getTimeStr=function(){var a=j.formateTime;return function(b,c){c=c||"time";var d="\u521A\u521A",e="";if(b){var f=new Date;b=b.replace(/-/g,"/"),e=Date.parse(b),f.setTime(parseInt(e,10));var g=new Date;g.setTime(g.getTime()),d=a(g,f)}else e=Date.parse(new Date);return'<span class="'+c+'" comment-type="time" date="'+e+'">'+d+"</span>"}}(),j.tpls=function(){var a=" action-data=",b=" action-type=",c=" class=",d=" comment-type=",e=function(a){return"<% this."+a+" %>"},g=null,i=function(){return{list:["<div"+c+'"latest-wrap"'+d+'"latestWrap">',"<div"+c+'"list"'+d+'"latestList"></div>',"<div"+c+'"more"'+d+'"more"><a href="javascript:;">'+h("I014")+"</a></div>","<div"+c+'"latest-loading loading"><a href="javascript:;"></a></div>',"</div>"].join(""),dialogItem:["<!-- \u5934\u50CF start -->","<div"+c+'"head">'+e("userFace")+"</div>","<!-- \u5934\u50CF end -->",'<% if(this.floor==="new1") {%>',"<% }else{ %>","<%}%>","<!-- \u5185\u5BB9 start -->","<div"+c+'"cont"'+d+'"itemCont">',"<div"+c+'"txt"><span'+c+'"name '+e("icoClz")+'">'+e("userLnk")+"</span>"+e("lastUserLnk")+e("cont")+"</div>","<div"+c+'"action">'+e("time"),'<a class="report" href="http://comment5.news.sina.com.cn/comment/skin/feedback_jb.html?mid='+e("mid")+'" target="_blank">'+h("I043")+"</a>","<span"+c+'"btns">',"<a"+c+'"vote" title="'+h("I008")+'"'+b+'"vote"'+a+'"channel='+e("channel")+"&newsid="+e("newsid")+"&mid="+e("mid")+"&dialogParentMid="+e("dialogParentMid")+"&pos=dialog&floor="+e("floor")+'" href="javascript:;"'+l("vote_click",e("sudaDialogType"))+">","<span>",h("I008"),"<% if(parseInt(this.agree)) {%>","<em "+d+'"voteNum">'+e("agree")+"</em>","<% }else{ %>","<em "+d+'"voteNum"></em>',"<%}%>","</span>","</a>","<a"+c+'"reply"'+b+'"reply"'+a+'"channel='+e("channel")+"&allNewsid="+e("allNewsid")+"&newsid="+e("newsid")+"&mid="+e("mid")+"&dialogParentMid="+e("dialogParentMid")+"&pos=dialog&floor="+e("floor")+"&dialogType="+e("dialogType")+'" href="javascript:;" hidefocus '+l("reply_click",e("sudaDialogType"))+">"+h("I009")+"</a>","</span>","</div>","</div>"].join(""),comment:["<div "+c+'"hd clearfix">',"<span"+d+'"count" href="#url"'+c+'"count"></span>',"<span"+c+'"tip">'+h("I038")+"</span>","</div>","<div"+c+'"bd">',"<div"+c+'"editor">',"<div"+c+'"inner">',"<textarea"+d+'"cont"'+c+'"box" tabindex="1" autocomplete="off" placeholder="'+e("postTip")+'" value="'+e("content")+'">'+e("content")+"</textarea>","</div>","<span"+c+'"arrow"></span>',"</div>","<!-- \u767B\u5F55\u4FE1\u606F start -->","<div"+c+'"user">',"<div"+c+'"form-head"  comment-type="head">',e("face"),,"</div>","<span"+c+'"name"'+d+'"name">',e("name"),"</span>","<a"+d+'"logout"'+c+'"logout" href="javascript:;" onclick="return false;" title="'+h("I030")+'">'+h("I030")+"</a>","</div>","<div"+c+'"user user-default">',"<div"+c+'"form-head"  comment-type="head">','<a href="http://weibo.com/" target="_blank">','<img width="80" height="80" src="http://img.t.sinajs.cn/t5/style/images/face/male_180.png"></a>',"</div>","</div>","<!-- \u767B\u5F55\u4FE1\u606F end -->","</div>","<div"+c+'"ft clearfix">',"<div"+c+'"face">','<a href="javascript:;"'+c+'"trigger"'+b+'"face-toggle">\u8868\u60C5</a>',"</div>","<div"+d+'"weibo"'+c+'"weibo my-sina-comment-chkbox"'+b+'"checkbox-toggle"> <i></i>',"<span>"+h("I018")+"</span>","</div>","<!-- \u53D1\u5E03 start -->","<a"+d+'"submit" href="javascript:;"'+b+'"tip-toggle"'+c+'"comment btn btn-red btn-disabled">'+h("I007")+"</a>","<!-- \u53D1\u5E03 end -->","<!-- \u767B\u5F55\u4E0E\u6CE8\u518C start -->","<div"+c+'"login">',"<a"+b+'"login"'+c+'"login-lnk" href="javascript:;" onclick="return false;" title="'+h("I029")+'">'+h("I029")+"</a>|<a"+c+'"register-lnk" target="_blank" href="https://login.sina.com.cn/signup/signup.php" onclick="try{if(window._S_uaTrack){_S_uaTrack(\'entcomment\', \'logon\');}}catch(e){}">'+h("I012")+"</a>","</div>","<!-- \u767B\u5F55\u4E0E\u6CE8\u518C\u524D end -->","</div>"].join(""),reply:["<div"+c+'"reply-form-top"'+d+'"replyArrow"> <em>\u25C6</em><span>\u25C6</span></div>',"<div"+c+'"my-sina-comment-form reply-form"'+d+'"form">','<div class="hd"'+d+'"hd">',"</div>",'<div class="bd">',"<div"+c+'"editor">',"<div"+c+'"inner">',"<textarea"+d+'"cont"'+c+'"box" tabindex="1" autocomplete="off" placeholder="'+e("postTip")+'" value="'+e("content")+'">'+e("content")+"</textarea>","</div>","<span"+c+'"arrow"></span>',"</div>","<div"+c+'"user">',"<div"+c+'"form-head"  comment-type="head">',e("face"),"</div>","</div>","<div"+c+'"user user-default">',"<div"+c+'"form-head"  comment-type="head">','<a href="http://weibo.com/" target="_blank">','<img width="80" height="80" src="http://img.t.sinajs.cn/t5/style/images/face/male_180.png"></a>',"</div>","</div>","</div>",'<div class="ft clearfix">',"<div"+c+'"face">','<a href="javascript:;"'+c+'"trigger"'+b+'"face-toggle">\u8868\u60C5</a>',"</div>","<div"+d+'"weibo"'+c+'"weibo my-sina-comment-chkbox"'+b+'"checkbox-toggle"> <i></i>',"<span>"+h("I018")+"</span>","</div>","<a"+d+'"submit" href="javascript:;"'+b+'"tip-toggle"'+c+'"comment btn btn-red btn-disabled">'+h("I007")+"</a>","<div"+c+'"login">',"<a"+b+'"login"'+c+'"login-lnk" href="javascript:;" onclick="return false;" title="'+h("I029")+'">'+h("I029")+"</a>|<a"+c+'"register-lnk" target="_blank" href="https://login.sina.com.cn/signup/signup.php" onclick="try{if(window._S_uaTrack){_S_uaTrack(\'entcomment\', \'logon\');}}catch(e){}">'+h("I012")+"</a>","</div>","</div>","</div>","</div>"].join("")}};return{set:function(a,b){g=g||i(),g[a]=b},get:function(a){return g=g||i(),typeof a==f?g:g[a]}}}(),j.getWBName=function(a){if(typeof a.config==f)return"";var b=a.config.match(/wb_screen_name=([^&]*)/i);return b?b[1]:""},j.getWBV=function(a){if(typeof a.config==f)return"";var b="",d=c.queryToJson(a.config),e=d.wb_verified,g=d.wb_verified_type;return typeof e!=f&&"1"==e&&(b="0"==g?"y":"b"),b},j.getUserLnk=function(a,b,c){b=b||"",c=c||"";var d="",e=j.getWBV(a),f="\u65B0\u6D6A\u4E2A\u4EBA\u8BA4\u8BC1",g='<span class="my-sina-comment-user-lnk-wrap">',h="</span>";e&&("b"==e&&(f="\u65B0\u6D6A\u673A\u6784\u8BA4\u8BC1"),d='<img src="http://www.sinaimg.cn/dy/deco/2013/0608/v'+e+'.png" title="'+f+'" style="vertical-align: middle;" />');var i=j.getWBName(a),k="http://comment5.news.sina.com.cn/comment/skin/default.html?info_type=1&style=1&user_uid=",l="";return l=i?'<a target="_blank" href="http://weibo.com/u/'+a.uid+'" title="'+i+'">'+b+i+d+c+"</a>":a.uid&&"0"!=a.uid?'<a target="_blank" href="'+k+a.uid+'" title="'+a.nick+'">'+b+a.nick+c+"</a>":b+a.nick+c,g+l+h},j.getUserFace=function(a){var b="http://weibo.com/u/",d=a.config||"",e=c.queryToJson(d,!0).wb_profile_img||"http://www.sinaimg.cn/dy/deco/2012/1018/sina_comment_defaultface.png",f=j.getWBName(a),g="http://comment5.news.sina.com.cn/comment/skin/default.html?info_type=1&style=1&user_uid=";return f?(e="http://tp1.sinaimg.cn/"+a.uid+"/50/1",'<a href="'+b+a.uid+'" title="'+f+'" target="_blank"><img src="'+e+'"/></a>'):a.uid&&"0"!=a.uid?(e="http://portrait5.sinaimg.cn/"+a.uid+"/blog/50",'<a target="_blank" href="'+g+a.uid+'" title="'+a.nick+'"><img src="'+e+'"/></a>'):'<img src="'+e+'"/>'},j.getUserIco=function(a){var b={wap:"name-mobile",wb:"name-weibo"},c=b[a.usertype];if(c=c||"",!c){var d=j.getWBName(a);c=d?b.wb:""}return c},j.insertList=function(a,b,e){var f,g=0;a.insertBefore(b,a.firstChild),e&&setTimeout(function(){f=c.getPosition(a),g=f.top-80;try{d.documentElement.scrollTop=g,document.body.scrollTop=g}catch(b){}},1e3)},j.getNewsLink=function(a,b,c){var d="",e="";if(c=k(c),b.newsdict){var g=b.newsdict;d=g[a],typeof d!=f&&(e='<p class="lnk"><a target="_blank" href="'+d.url+'" title="'+d.title+'"'+l("head_click",c)+">\u300A"+d.title+"\u300B</a></p>")}return e},j.dialogInsertList=function(a,b){var c=a.lastChild,d=c.className;d=d.replace("item-one","item-first").replace("item-last","").replace("item-me",""),c.className=d,a.appendChild(b)},j.dialogItemInnerRender=function(){var a=j.getTimeStr,b=c.app.splitNum,d=h("I036"),e=h("I037");return function(c,f,h,l){var m=f.area?"["+f.area+"]":"&nbsp;",n="";0!==h&&(n=1);var o="",p="",q=j.getUserLnk(f,"",e),r=j.face.filter(g.cmntEncodeHtml(f.content)),s={allNewsid:c||f.newsid,channel:f.channel,newsid:f.newsid,mid:f.mid,dialogParentMid:f.dialogParentMid,dialogType:f.dialogType,sudaDialogType:k(f.dialogType),userFace:j.getUserFace(f),floor:h+1,userIco:j.getUserIco(f),userLnk:q,lastUserLnk:l?i(d,{userLnk:l}):"",area:m,cont:r,time:a(f.time,"time"),agree:b(f.agree),hasReply:n};return o=j.tpls.get("dialogItem"),p=i(o,s)}}(),j.dialogItemRender=function(a,b,c,d,e,f,g,h,i,k){var l=e?" item-hide":"",m=f?" item-me":"",n=g?" item-last":"",o=h?" item-first":"",p=i?" item-middle":"",q=k?" item-one":"",r=h?'<div class="dialog-list-hack-top"></div>':"",s=g?'<div class="dialog-list-hack-btm"></div>':"";return'<div class="item clearfix'+l+m+n+o+p+q+'" comment-type="item">'+r+j.dialogItemInnerRender(a,b,c,d)+s+"</div>"},j.dialogListRender=function(){return function(a,b,d){if(typeof b.mid==f)return"";var e=d.data,g=(d.uid,d.type),i=b.mid,k=e.replydict[b.mid];c.isArray(k)||(k=[]),k.push(b),j.data.set(b.newsid,"dialogList",k);var l,m=[],n="",o=3,p=k.length,q=p-1,r=p>o;for(l=0;p>l;l++){var s=r&&p>=l+o,t=k[l],u=q===l;t.dialogParentMid=i,t.dialogType=g;var v=0===l,w=l+1===p,x=!w&&!v&&u&&p>2,y=1===p;m.push(j.dialogItemRender(a,t,l,n,s,u,w,v,x,y)),r&&l===p-o&&m.push('<div class="dialog-list-bd" action-type="dialogMore" comment-type="dialogBd"><a href="javascript:;" hidefocus=""><i><em></em></i>'+h("I034")+"</a></div>"),n=j.getUserLnk(t,"@")}return 0!==p&&(m='<div class="dialog-list-wrap" comment-type="dialogWrap"> <div class="dialog-list-title clearfix" newsid="'+b.newsid+'">'+j.getNewsLink(b.newsid,e,g)+' </div> <div class="dialog-list" comment-type="dialogList">'+m.join("")+"</div></div>"),m}}(),j.layer=function(){var a={};a.timeout=null,a.animate=null;var b=function(){var a=c.create("div");return a.className="my-sina-comment-list-layer",a.style.visibility="hidden",c.byTag("body")[0].appendChild(a),a},d=function(){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause(),c.animate(a.dom,{opacity:0},200,"Tween.Quad.easeOut",{start:function(a){},complete:function(b){c.setStyle(a.dom,{left:"-9999px",opacity:0})}})},e=function(a,b,d){var e=c.getStyle(a,"width"),f=c.getStyle(a,"height");return e=parseFloat(e),e=isNaN(e)?b:e,f=parseFloat(f),f=isNaN(f)?d:f,{width:e,height:f}},f=function(d,f,g){a.dom||(a.dom=b()),clearTimeout(a.timeout),a.animate&&a.animate.pause(),a.dom.innerHTML='<div class="my-sina-comment-list-layer-hd"><h2>\u67E5\u770B\u5BF9\u8BDD</h2><a action-type="layerHide" href="javascript:;" class="close"></a></div><div class="my-sina-comment-list-layer-bd">'+(f||"")+"</div>";var h=c.app.getWinSize(),i=e(a.dom,648,380),j=document.body.scrollTop||document.documentElement.scrollTop;c.setStyle(a.dom,{top:j+(h.height-i.height)/2+"px",left:"50%",marginLeft:-i.width/2+"px",opacity:0,visibility:"visible"}),g=g||0,g&&(a.timeout=setTimeout(function(){a.hide()},g)),c.animate(a.dom,{opacity:1},200,"Tween.Quad.easeIn",{start:function(a){},complete:function(a){}})};return a.show=f,a.hide=d,a}(),j.DataLoader=function(){var b=new c.Clz;return b.include({init:function(a){var b=this;b._setOpt(a),b.data=null,b.loading=!1,b.getData()},_setOpt:function(a){this.set("opt",c.extend({url:"",param:{},beforeLoad:function(){},loaded:function(a){},error:function(a){}},a,!0))},getData:function(b){var d=this,e=d.get("opt"),g=e.url,h=e.param,i="loader_"+c.getGuid();g+=g.indexOf("?")>-1?"&":"?",g=g+c.jsonToQuery(h)+"&jsvar="+i,d.loading=!0,e.beforeLoad(),c.jsLoad(g,function(){var c=a[i];if(typeof c!=f){if(0!==c.result.status.code||typeof c.result.error!=f){var h=c.result.status.msg;throw e.error(h),new Error("\u6570\u636E\u52A0\u8F7D\u51FA\u9519\uFF1A"+h+";URL:"+g)}d.data=c.result,e.loaded(d),d.loading=!1,b&&"function"==typeof b&&b(c)}})}}),b}(),j.List=function(){var a=function(){
return function(a,b,c){var d=[];if("object"!=typeof b||0===b.length)return"";var e,f,g="",h=0;for(h=0,e=b.length;e>h;h++){var f=b[h];d.push(j.dialogListRender(a,f,c))}return g=d.join("")}}(),b=new c.Clz(j.DataLoader),d=null;return b.include({init:function(a,b,d){var e=this;e.currentDialog=null;var f={maxWordCount:1/0,pageNum:10};d=c.extend(f,d);var g=j.config.encoding,h={url:b||"http://comment5.news.sina.com.cn/page/info",config:d,param:{format:"js",ie:g,oe:g,page:1,page_size:d.pageSize||20},listType:"all",beforeLoad:function(){e.beforeLoad(),"function"==typeof d.beforeLoad&&d.beforeLoad()},loaded:function(a){a.render(a),a.loaded(a),"function"==typeof d.loaded&&d.loaded(a)}};e.firstRender=!0,e.isReflash=!0,e._setOpt(h),e.loading=!1,e._setDom(a),e.getData()},_setDom:function(a){var b=this;a=c.byId(a);var d=c.cmnt.tpls.get("list");a.innerHTML=i(d,{});var e=c.builder(a,"comment-type");b.set("dom",e.ids)},beforeLoad:function(){var a=this,b=a.get("dom"),d=a.get("opt");d.config;c.addClass(b.wrap,"my-sina-comment-list-loading")},loaded:function(){var a=this,b=a.get("dom"),d=a.get("opt"),e=d.config.type,f=a.data;c.removeClass(b.wrap,"my-sina-comment-list-loading");var g=function(){var a=!0;return a="reply"===e?!!f.usercount.l_reply:!!f.usercount.l_count}();return f.cmntlist&&g?(a.firstRender&&(j.updateTime(b.wrap),a.firstRender=!1),void(0===f.cmntlist.length?a.setMore(h("I027")):a.setMore(h("I014")))):void("cmnt"===d.config.type?a.setMore(h("I100")):a.setMore(h("I101")))},setMore:function(a){var b=this,c=b.get("dom");c.more&&(c.more.innerHTML=a)},render:function(){var b=this,d=b.data,e=b.get("dom"),g=b.get("opt"),h=g.config;if(!h.hideList){var i=h.pageNum,j=(h.hotPageNum,g.param),k=j.newsid;typeof d.count==f?b.totalNum=0:b.totalNum=b.data.count.show;var l=d.cmntlist;if("undefined"!=typeof l&&l.length){b.cList?b.cList=b.cList.concat(l):b.cList=l;var m="",n={uid:h.uid,data:d,pageNum:i,type:h.type};if(m=a(k,l,n),1==j.page)e.latestList.innerHTML=m;else{var o=c.create("div");o.innerHTML=m,e.latestList.appendChild(o)}return b.setDataClz(m),b.loading=!1,b.bindEvent(),b}}},bindEvent:function(){var a=this,b=a.get("dom"),e=function(a){var b=a.parentNode,d=c.byAttr(b,"action-type","reply")[0],e=d.getAttribute("action-data");return e=c.queryToJson(e),{el:d,data:e}};if(a.firstRender){if("true"===b.wrap.getAttribute("delegated"))return;var f=c.delegatedEvent(b.wrap);b.wrap.setAttribute("delegated","true"),f.add("dialogMore","click",function(a){var b=a.el.parentNode,d="dialog-list-show",e="add",f="I035";c.hasClass(b,d)&&(e="remove",f="I034"),c[e+"Class"](b,d),a.el.getElementsByTagName("a")[0].innerHTML="<i><em></em></i>"+h(f)}),f.add("txt-toggle","click",function(a){c.cmnt.truncate.toggle(a.el,a.data.type)}),f.add("vote","click",function(b){var f=b.el,i=b.data,j=f.getAttribute("voted");if("true"!=j){var k=e(f);a.showReply(k),d.showHdTip(h("I039")),c.cmnt.commentTip.hide(),c.cmnt.vote({channel:i.channel,newsid:i.newsid,parent:i.mid}),g.track("entcomment","up"),c.cmnt.voteTip.show(f,1e3),c.addClass(f,"vote-active");var l=f.title,m="\u5DF2"+l,n=0,o=c.byAttr(f,"comment-type","voteNum")[0];o&&o.innerHTML?(n=parseInt(o.innerHTML.replace(/[^\d]/g,""),10),isNaN(n)&&(n=0)):o.innerHTML=n;var p=f.innerHTML,q=n+1;f.innerHTML=p.replace(c.app.splitNum(n),c.app.splitNum(q)).replace(l,m),f.title=m,f.setAttribute("voted","true")}}),f.add("reply","click",function(b){console.log("reply"),a.toggleReply(b),c.cmnt.commentTip.hide()}),f.add("getMore","click",function(b){a.getMore()})}},getMore:function(){var a=this,b=a.get("opt.param.page");a.setPage(b+1).getData()},toggleReply:function(a){var b=this,c=a.data,e=c.mid;if(d){var f=d.get("opt.parent");if(d.destroy(),d=null,f==e)return}b.showReply(a)},showReply:function(a){var b=this,e=a.el,f=a.data,g=b.get("opt"),i=g.config,k=function(a){var b=a.parentNode;return b&&"dialogList"==b.getAttribute("comment-type")?b:arguments.callee(b)};d&&(d.destroy(),d=null);var l=function(a,c){var d=(b.get("dom.latestList"),b.get("opt.config"),k(e));c&&d&&j.dialogInsertList(d,c),"function"==typeof g.config.commented&&g.config.commented()},m="";f.userLnk&&(m=h("I009")+f.userLnk),d=new c.cmnt.ReplyForm(e,{allNewsid:f.allNewsid,channel:f.channel,newsid:f.newsid,parent:f.mid,dialogType:f.dialogType,dialogParentMid:f.dialogParentMid,commented:l,autoGrow:"undefined"==typeof i.autoGrow?!1:i.autoGrow,postTip:m,floor:f.floor});var n=d.get("dom.cont");c.app.textareaUtils.insertText(n,"",0,0)},setDataClz:function(a){var b=this,d=b.get("dom"),e=b.get("opt.config.maxWordCount");if(e!==1/0||0>=e)for(var f=c.byAttr(d.wrap,"comment-type","itemTxt"),g=0,h=f.length;h>g;g++){var i=f[g];c.cmnt.truncate.handle(i,e)}},setPage:function(a){return 1>a?this:(this.set("opt.param.page",a),this)}}),b}(),j.Form=function(){var a=j.commentTip,b=c.addEvent,d=c.custEvent,f=!1,g=function(a){var b=a.getAttribute("placeholder");return b||a.attributes&&a.attributes.placeholder&&(b=a.attributes.placeholder.value),b||""},k=new c.Clz;return k.include({init:function(a,b){var c=this;c.commenting=!1,c.commentType="normal",c._setOpt(b),c._setDom(a),c.bindEvent()},_setOpt:function(a){a.allNewsid=a.allNewsid||a.newsid,this.set("opt",c.extend({allNewsid:"",channel:"",newsid:"",parent:"",share_url:location.href.split("#")[0],video_url:"",img_url:"",postTip:h("I003"),autoGrow:!1,content:"",commented:function(){}},a,!0))},_setDom:function(a){var b=this,d=b.get("opt");a=c.byId(a);var e=c.cmnt.face.get("common"),f={content:d.content,postTip:d.postTip,name:c.login.getName(),face:c.login.getFace(),commonFaces:e.faces,commonFacesBase:e.base},g=c.cmnt.tpls.get("comment");a.innerHTML=i(g,f);var h=c.builder(a,"comment-type");b.set("dom",h.ids)},bindEvent:function(){var i=this,k=i.get("dom"),l=i.get("opt"),m=k.cont,n=function(){i.commenting=!0;var b=c.trim(m.value),e=g(m);return""===b||b===e?(m.focus(),void a.show(m,"error",h("I003"),3e3)):c.byteLength(b)>6e3?(m.focus(),void a.show(m,"error","\u60A8\u7684\u8BC4\u8BBA\u5B57\u6570\u8D85\u51FA\u4E86\u4E0A\u96503000\u5B57,\u8BF7\u4FEE\u6539\u540E\u518D\u63D0\u4EA4\uFF01",3e3)):void(c.login.isLogin()?i.comment():(i.loginWithComment=!0,d.add(c,"my_ce_login",function(a){"loginWithComment"===a.data.action&&i.loginWithComment&&(i.comment(),i.commenting=!1,i.loginWithComment=!1)},{action:"loginWithComment"}),i.login()))},o=function(a,b){window.ActiveXObject?a.onpropertychange=b:a.addEventListener("input",b,!1)};k.logout&&b(k.logout,"click",function(a){c.login.lOut()}),b(k.weibo,"click",function(a){e("entcomment","toweibo")}),b(k.submit,"click",function(){n()}),b(m,"keydown",function(a){a=a||window.event,13==a.keyCode&&a.ctrlKey&&n()}),b(m,"keyup",function(a){setTimeout(function(){i.toggleSubmitBtn()},200)}),b(k.wrap,"click",function(a){setTimeout(function(){i.toggleSubmitBtn()},200)}),b(m,"focus",function(a){setTimeout(function(){i.toggleSubmitBtn()},200)}),o(m,function(){i.toggleSubmitBtn()}),l.autoGrow&&(i.textareaAugoGrow=new c.app.textareaAutoGrow(m,{maxHeight:72}));var p=[m];if(c.placeholder(p),!f){var q=c.cmnt.face,r=c.delegatedEvent(c.byTag("body")[0]),s=function(a){var b=a.parentNode;return b&&"form"==b.getAttribute("comment-type")?b.getElementsByTagName("textarea")[0]:arguments.callee(b)};r.add("login","click",function(a){j.commentTip.hide(),c.login.lIn()}),r.add("face-toggle","click",function(a){var b=a.el,c=s(b),d="",e=-20,f=5,g="360",h=null;q.hide(),q.show(b,c,d,e,f,g,h)}),r.add("face-insert","click",function(a){var b=a.el,c=a.data.text,d=a.data.type;d&&"out"==d&&(q.srcInput=s(b)),q.insert(c)}),r.add("face-close","click",function(a){q.hide()}),r.add("checkbox-toggle","click",function(a){var b=a.el;c.app.simCheckbox(b)}),f=!0}return d.add(c,"my_ce_login",function(){i.setName()}),d.add(c,"my_ce_logout",function(){i.setName()}),d.add(c,"my_ce_weiboLogin",function(){i.setName()}),d.add(c,"my_ce_weiboLogout",function(){i.setName()}),i},setName:function(){var a=this.get("dom");a.name&&(a.name.innerHTML=c.login.getName()),a.head&&(a.head.innerHTML=c.login.getFace())},toggleSubmitBtn:function(){var a=this,b=a.get("dom"),d=b.cont,e=b.submit,f=c.trim(d.value),h=g(d),i="btn-disabled";""===f||f===h?c.addClass(e,i):c.removeClass(e,i)},comment:function(){var a=this,b=a.get("dom"),d=a.get("opt"),f=d.parent,g=c.trim(b.cont.value);g=g.replace(/\r\n/g," "),g=g.replace(/\n/g," "),g=g.replace(/\r/g," "),g=g.replace(/\t/g," ");var i=b.weibo.getAttribute("checked");c.cmnt.comment({channel:d.channel,newsid:d.newsid,parent:f,content:g,ispost:i,share_url:d.share_url,video_url:d.video_url,img_url:d.img_url},function(c){b.cont.value="",a.commented(g);var d=h("I001");"1"==i&&(d+=h("I002")),j.commentTip.show(b.cont,"succ",d,2e3),e("entcomment","comment")},function(){j.commentTip.show(b.cont,"error",h("I042"),3e3)})},commented:function(a){var b=this,d=b.get("opt"),e=d.allNewsid,f=c.login.getInfo(),g={},h={newsid:e,mid:"",content:a,time:"",agree:0,config:c.login.getCommentConfig(),nick:f.sina.nick,uid:f.sina.uid,usertype:"",area:""},i=function(){var a=c.create("div");return a.className="item item-hack clearfix",a.setAttribute("comment-type","item"),a.innerHTML=j.itemInnerRender(e,h,g,[]),a}();d.commented(a,i)},login:function(){e("entcomment","login"),c.login.isLogin()||c.login.lIn()},destroy:function(){var a=this,b=a.get("dom"),c=b.wrap;c&&c.parentNode&&c.parentNode.removeChild(c),a.set("opt.parent",""),a=null}}),k}(),j.ReplyForm=function(){var a=function(a,b){var c=a.parentNode;return c&&c.getAttribute&&c.getAttribute("comment-type")==b?c:"body"==c.tagName.toLowerCase()?c:arguments.callee(c,b)},b=j.data,d=new c.Clz(j.Form);return d.include({init:function(a,b){var c=this;c.commenting=!1,c._setOpt(b),c._setDom(a),c.bindEvent()},_setDom:function(b){var d=this,e=d.get("opt"),f=c.byId(b);b=c.create("div"),b.className="reply-form-wrap";var g={name:c.login.getName(),face:c.login.getFace(),content:e.content,postTip:e.postTip},h=c.cmnt.tpls.get("reply");b.innerHTML=i(h,g);var j=a(f,"itemCont"),k=j.parentNode;"item"==k.getAttribute("comment-type")?(d.commentType="out",k.appendChild(b)):(d.commentType="in",c.insertAfter(b,j));var l=c.builder(b,"comment-type");l.ids.trigger=f,l.ids.itemCont=j,l.ids.itemWrap=k,d.set("dom",l.ids),d.setArrowPos()},showHdTip:function(a){var b=this,c=b.get("dom"),d=c.hd;d.innerHTML=a,d.style.display="",d.style.height="auto"},hideHdTip:function(){var a=this,b=a.get("dom"),c=b.hd;c.style.display="none",c.style.height="0"},setArrowPos:function(){var a=this,b=a.get("dom");if(b.replyArrow&&b.trigger){var d=c.getXY(b.trigger),e=c.getXY(b.wrap),f=c.getOuterStyle(b.replyArrow,"width"),g=c.getOuterStyle(b.trigger,"width"),h=c.getOuterStyle(b.wrap,"width"),i=e[0]+h-d[0]-g/2-f/2+"px";b.replyArrow.style.right=i}},commented:function(a){var d=this,e=d.get("opt"),f=e.allNewsid,g=c.login.getInfo();console.log(e);var h=b.get(f,"dialogList"),i={newsid:f,mid:"",content:a,time:"",agree:0,config:c.login.getCommentConfig(),nick:g.sina.nick,uid:g.sina.uid,usertype:"",area:""};i.newsid=f;var k=h[e.parent],l="";typeof k!==c.C.U&&(l=j.getUserLnk(k,"@"));var m=function(){var a='<div class="dialog-list-hack-btm"></div>',b=c.create("div"),d="";return"cmnt"===e.dialogType&&(d=" item-me"),b.className="item item-hack clearfix item-me item-last"+d,b.setAttribute("comment-type","item"),b.innerHTML=a+j.dialogItemInnerRender(f,i,"new",l),b}();e.commented(a,m),setTimeout(function(){d.destroy()},2e3)}}),d}(),j})}(window);